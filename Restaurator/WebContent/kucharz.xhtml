<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
<link href="./css/styles.css" 
      rel="stylesheet" type="text/css"/> 
<title>Kucharz</title>
</h:head>
<h:body>
<h:form>
<h:commandLink value="Wyloguj" action="#{logowanie.wyloguj()}" styleClass="wyloguj"/> 
<h:outputText value="#{logowanie.zalogowany.nazwisko}  &emsp;"  styleClass="wyloguj"/> 
<h:outputText value="#{logowanie.zalogowany.imie}  &nbsp;"  styleClass="wyloguj"/> 
<br />
<h1 class="title">Kucharz</h1>

<h:outputText value="#{kucharz.komunikat}" styleClass="error" />

#{kucharz.wyswietlZamowieniaMoje()}

		<h:dataTable id="mojeZamowienia" var="zam2" value="#{kucharz.zamowienia}" >
			
			<h:column>			
		 
			<b>Zamówienie nr #{zam2.idZamowienia}</b>  <br/>
			
			Nr stolika : #{zam2.nrStolika} Id Kelnera : #{zam2.idKelnera} Data Przyjęcia : 
			
			<h:outputText value="#{zam2.dataPrzyjecia}">
       <f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" timeZone="Europe/Berlin" />
    </h:outputText>
			<br/>
			
		<h:dataTable id="mojeZamowienia2" var="pro2" value="#{zam2.produkty}" >
			<h:column>Produkt <b>#{pro2.nazwa}</b> ilość : <b>#{pro2.ilosc}</b><br/> </h:column>
		</h:dataTable>
	
		<h:commandButton value="Zwróć zamówienie" action="#{kucharz.zwrocZamowienie(zam2.idZamowienia)}" style="height : 47px;" />
		<h:commandButton value="Przekaż do kelnera" action="#{kucharz.doKelnera(zam2.idZamowienia)}" style="height : 47px;" />
			</h:column> <br/>
		</h:dataTable>
		<h:commandButton value="Pobierz zamówienie" action="#{kucharz.pobierzZamowienie()}" immediate="true" style="float: right; height : 47px;">
			<f:ajax render="@all"/>
		</h:commandButton>
</h:form>

</h:body>
</html>
